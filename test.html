<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Happy Valentine's Day</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Great+Vibes&display=swap" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

<style>

body {
    background-color: #ffc3da;
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* ================= ENVELOPE ================= */

#envelope {
    position: relative;
    width: 420px;
    height: 260px;
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;
    background-color: #FF6863;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    cursor: pointer;
}

/* ================= FRONT ================= */

.front {
    position: absolute;
    width: 0;
    height: 0;
}

/* ================= FLAP ================= */

.flap {
    z-index: 5;
    border-top: 130px solid #FF6863;
    border-left: 210px solid transparent;
    border-right: 210px solid transparent;
    border-bottom: 130px solid transparent;
    transform-origin: top;
    transition: 0.5s;
}

/* ================= POCKET ================= */

.pocket {
    z-index: 4;
    border-left: 210px solid #FF8BA0;
    border-right: 210px solid #FF8BA0;
    border-bottom: 130px solid #FFA8B5;
    border-top: 130px solid transparent;
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;
}

/* ================= LETTER ================= */

.letter {
    position: absolute;
    background-color: white;
    width: 90%;
    height: 90%;
    top: 5%;
    left: 5%;
    border-radius: 10px;
    box-shadow: 0 2px 26px rgba(0, 0, 0, .12);
    z-index: 2;
    transition: 0.5s;
    overflow: hidden;
}

.letter-content {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
}

.letter-content.active {
    opacity: 1;
    pointer-events: auto;
}

.words {
    position: absolute;
    left: 10%;
    width: 80%;
    font-size: 22px;
    font-family: 'Dancing Script', cursive;
    color: #5d370b;
    text-align: center;
}

.line1 { top: 25%; }
.line2 { top: 45%; }
.line3 { top: 65%; }

/* ================= NAVIGATION BUTTON ================= */

.nav-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 35px;
    height: 35px;
    background-color: #FF6863;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    z-index: 10;
}

.nav-btn:hover {
    background-color: #ff8a86;
    transform: scale(1.1);
}

.nav-btn:active {
    transform: scale(0.95);
}

/* ================= ANIMATION ================= */

.open .flap {
    transform: rotateX(180deg);
    z-index: 1;
}

.open .letter {
    transform: translateY(-100px);
    z-index: 6;
}

.close .letter {
    transform: translateY(0);
}

/* ================= RESPONSIVE ================= */

@media (max-width: 500px) {

    #envelope {
        width: 90%;
        aspect-ratio: 420 / 260;
        height: auto;
    }

    .flap {
        border-top: 32vw solid #FF6863;
        border-left: 45vw solid transparent;
        border-right: 45vw solid transparent;
        border-bottom: 32vw solid transparent;
    }

    .pocket {
        border-left: 45vw solid #FF8BA0;
        border-right: 45vw solid #FF8BA0;
        border-bottom: 32vw solid #FFA8B5;
        border-top: 32vw solid transparent;
    }
}

</style>
</head>

<body>

<div id="envelope" class="close">

    <div class="front flap"></div>
    <div class="front pocket"></div>

    <div class="letter">
        
        <!-- LETTER 1 -->
        <div class="letter-content letter1 active">
            <div class="nav-btn next-btn">&gt;</div>
            <p class="words line1">Happy Valentine's Day</p>
            <p class="words line2">Putri Aulia Sari</p>
        </div>

        <!-- LETTER 2 -->
        <div class="letter-content letter2">
            <div class="nav-btn prev-btn">&lt;</div>
            <p class="words line1">You are amazing!</p>
            <p class="words line2">I'm so grateful for you</p>
            <p class="words line3">❤️</p>
        </div>

    </div>

</div>

<script>
$(document).ready(function () {

    var envelope = $("#envelope");
    var letter = $(".letter");
    var letter1 = $(".letter1");
    var letter2 = $(".letter2");

    // Klik amplop
    envelope.on("click", function (e) {
        if ($(e.target).closest('.letter').length) return;

        envelope.toggleClass("open close");
    });

    // Klik tombol next (>) untuk ke letter 2
    $(".next-btn").on("click", function (e) {
        e.stopPropagation();

        if (!envelope.hasClass("open")) return;

        // Fade out letter 1 dulu
        letter1.removeClass("active");
        
        // Tunggu animasi fade out selesai, baru munculkan letter 2
        setTimeout(function() {
            letter2.addClass("active");
        }, 400);
    });

    // Klik tombol prev (<) untuk kembali
    $(".prev-btn").on("click", function (e) {
        e.stopPropagation();

        // Fade out letter 2 dulu
        letter2.removeClass("active");
        
        // Tunggu sebentar, baru tutup amplop dan reset ke letter 1
        setTimeout(function() {
            envelope.removeClass("open").addClass("close");
            // Tunggu amplop tertutup baru aktifkan letter 1 lagi
            setTimeout(function() {
                letter1.addClass("active");
            }, 500);
        }, 400);
    });

});
</script>

</body>
</html>